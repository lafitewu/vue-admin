webpackJsonp([9],{1054:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{dialogVisible:!1,loading:!0,title:"基本信息",title2:"财务信息",massage:[],msg:[],ruleForm:[],nameTurn:"",receiptTax:"",cardUp:"",btnName:"修改信息",btnShow:!0}},mounted:function(){var e=this;e.$http.jsonp(e.hostname+"/api/dev/userinfo"+this.url_token()).then(function(a){console.log(a.data),1==a.data.code?(e.loading=!1,e.ruleForm=a.data.data,"0"==e.ruleForm.utype?e.nameTurn=!0:e.nameTurn=!1,"0"==e.ruleForm.tax_payment?this.nameTurn=!0:this.nameTurn=!1):(e.$router.replace("/login"),e.$notify.error({title:"温馨提示",message:"您的账号在别处登录，请重新登录"}))})},methods:{editToFn:function(){"审核中"==this.ruleForm.status?this.$message.error("正在审核中，不可编辑"):(this.Disabled=null,this.btnShow=!1)},nameFn:function(e){this.nameTurn="0"==e},taxFn:function(e){this.receiptTax=0==e?"6%":"3%"},yyleAvatarSuccess:function(e){this.ruleForm.cardupimage=e},cardDownSuccess:function(e){this.ruleForm.carddownimage=e},businessSuccess:function(e){this.ruleForm.business_license=e},open_licenseSuccess:function(e){this.ruleForm.open_license=e},beforeAvatarUpload:function(e,a){},uploadFn:function(e){console.log(e),this.cardUp=e},saveFn:function(){var e=this;e.dialogVisible=!1;var a;if("0"==e.ruleForm.utype?(e.ruleForm.compayname="",e.ruleForm.open_license="",e.ruleForm.business_license="",""==e.ruleForm.realname&&(a=1)):(e.ruleForm.realname="",e.ruleForm.cardno="",e.ruleForm.cardupimage="",e.ruleForm.carddownimage="",""==e.ruleForm.compayname&&(a=1)),1==a)e.$message.error("公司名或个人名称有误！");else{var t={email:e.ruleForm.email,utype:e.ruleForm.utype,name:e.ruleForm.name,mobile:e.ruleForm.mobile,compayname:e.ruleForm.compayname,qq:e.ruleForm.qq,address:e.ruleForm.address,cardno:e.ruleForm.cardno,bankuser:e.ruleForm.bankuser,bankname:e.ruleForm.bankname,bankaccount:e.ruleForm.bankaccount,cardupimage:e.ruleForm.cardupimage,carddownimage:e.ruleForm.carddownimage,business_license:e.ruleForm.business_license,open_license:e.ruleForm.open_license,tax_payment:e.ruleForm.tax_payment,realname:e.ruleForm.realname};e.$http.post(e.hostname+"/api/dev/updateuserinfo"+e.url_token(),t).then(function(a){console.log(a),e.$notify.success({title:"成功",message:"保存成功！"}),e.$router.push("/personal"),e.Disabled="",e.btnShow=!0},function(e){})}},cancleFn:function(){this.dialogVisible=!1},goBack:function(){this.$router.push("/personal")}}}},1145:function(e,a,t){a=e.exports=t(87)(!1),a.push([e.i,".person_title{font-size:1.1rem;font-weight:700;color:#324157;height:2.4rem;width:100%}.editBtn{margin-top:30px;width:120px;margin-left:35%}.mian_ruleForm{margin-top:20px}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden;width:150px;height:150px}.avatar-uploader .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:130px;height:130px;line-height:130px;text-align:center}.avatar{width:130px;height:130px;margin:auto;margin-top:10px;display:block}.coverDialog{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);display:none;color:#fff}.avatar-uploader .el-upload:hover .coverDialog{display:block}.el-dialog--small{width:20%}",""])},1455:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"personal"},[t("div",{staticClass:"person_title"},[e._v(e._s(e.title))]),e._v(" "),t("el-form",{ref:"ruleForm",staticClass:"mian_ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"认证状态"}},[t("span",{staticStyle:{color:"#20A0FF","font-weight":"bold"}},[e._v(e._s(e.ruleForm.status))])]),e._v(" "),t("el-form-item",{attrs:{label:"身份类型"}},[t("el-radio-group",{attrs:{disabled:e.Disabled},on:{change:e.nameFn},model:{value:e.ruleForm.utype,callback:function(a){e.$set(e.ruleForm,"utype",a)},expression:"ruleForm.utype"}},[t("el-radio",{attrs:{label:"1"}},[e._v("公司")]),e._v(" "),t("el-radio",{attrs:{label:"0"}},[e._v("个人")])],1)],1),e._v(" "),e.nameTurn?e._e():t("el-form-item",{attrs:{label:"公司名称"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.compayname,callback:function(a){e.$set(e.ruleForm,"compayname",a)},expression:"ruleForm.compayname"}})],1),e._v(" "),e.nameTurn?t("el-form-item",{attrs:{label:"个人名称",disabled:e.Disabled}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.realname,callback:function(a){e.$set(e.ruleForm,"realname",a)},expression:"ruleForm.realname"}})],1):e._e(),e._v(" "),e.nameTurn?t("el-form-item",{attrs:{label:"身份证号码"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.cardno,callback:function(a){e.$set(e.ruleForm,"cardno",a)},expression:"ruleForm.cardno"}})],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:"联系地址"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.address,callback:function(a){e.$set(e.ruleForm,"address",a)},expression:"ruleForm.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.email,callback:function(a){e.$set(e.ruleForm,"email",a)},expression:"ruleForm.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"QQ"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.qq,callback:function(a){e.$set(e.ruleForm,"qq",a)},expression:"ruleForm.qq"}})],1),e._v(" "),e.nameTurn?t("el-form-item",{attrs:{label:"身份证正面"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.hostname+"/api/dev/uploadpic"+this.url_token(),disabled:e.Disabled,"show-file-list":!1,"on-success":e.yyleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.cardupimage?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.cardupimage}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),e.nameTurn?t("el-form-item",{attrs:{label:"身份证反面"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.Disabled,action:this.hostname+"/api/dev/uploadpic"+this.url_token(),"show-file-list":!1,"on-success":e.cardDownSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.carddownimage?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.carddownimage}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),e.nameTurn?e._e():t("el-form-item",{attrs:{label:"营业执照"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.Disabled,action:this.hostname+"/api/dev/uploadpic"+this.url_token(),"show-file-list":!1,"on-success":e.businessSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.business_license?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.business_license}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),e.nameTurn?e._e():t("el-form-item",{attrs:{label:"开户许可证"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.Disabled,action:this.hostname+"/api/dev/uploadpic"+this.url_token(),"show-file-list":!1,"on-success":e.open_licenseSuccess,"before-upload":e.beforeAvatarUpload}},[e.ruleForm.open_license?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.open_license}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("div",{staticClass:"person_title"},[e._v(e._s(e.title2))]),e._v(" "),t("el-form-item",{attrs:{label:"纳税方式"}},[t("el-radio-group",{attrs:{disabled:e.Disabled},on:{change:e.taxFn},model:{value:e.ruleForm.tax_payment,callback:function(a){e.$set(e.ruleForm,"tax_payment",a)},expression:"ruleForm.tax_payment"}},[t("el-radio",{attrs:{label:"0"}},[e._v("一般纳税人")]),e._v(" "),t("el-radio",{attrs:{label:"1"}},[e._v("小规模纳税人")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"发票类型"}},[t("el-radio-group",{attrs:{disabled:e.Disabled},model:{value:e.ruleForm.receipt_type,callback:function(a){e.$set(e.ruleForm,"receipt_type",a)},expression:"ruleForm.receipt_type"}},[t("el-radio",{attrs:{label:"专用发票"}},[e._v("专用发票")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"发票税率"}},[t("span",[e._v(e._s(e.receiptTax))])]),e._v(" "),t("el-form-item",{attrs:{label:"账户名称"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.bankuser,callback:function(a){e.$set(e.ruleForm,"bankuser",a)},expression:"ruleForm.bankuser"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开户行"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.bankname,callback:function(a){e.$set(e.ruleForm,"bankname",a)},expression:"ruleForm.bankname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"银行账号"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",disabled:e.Disabled},model:{value:e.ruleForm.bankaccount,callback:function(a){e.$set(e.ruleForm,"bankaccount",a)},expression:"ruleForm.bankaccount"}})],1)],1),e._v(" "),t("el-button",{staticClass:"editBtn",attrs:{type:"primary",plain:""},on:{click:e.goBack}},[e._v("返回")]),e._v(" "),t("el-button",{staticClass:"editBtn",attrs:{type:"primary"},on:{click:function(a){e.dialogVisible=!0}}},[e._v("保存信息")]),e._v(" "),t("el-dialog",{attrs:{visible:e.dialogVisible,width:"50%",top:"20vh"},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("span",{staticStyle:{"font-size":"16px"}},[e._v("提交信息之后，该账号会进入审核中状态，在审核完结之前将不能修改信息，是否确认提交？")]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancleFn}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.saveFn}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},1486:function(e,a,t){var l=t(1145);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);t(197)("4cfba5c6",l,!0)},529:function(e,a,t){t(1486);var l=t(198)(t(1054),t(1455),null,null);e.exports=l.exports}});